#!/usr/bin/env bash

source "$(dirname "$0")/scripts/common.sh"

SCRIPT_DIR=`dirname $0`

# One Shoe environment variable
export ONESHOE_ENV=development

# @TODO Add these aliases to ALIASES.md

# Aliases for default scripts in Drupal projects
alias oneshoe-build="log 'Run build.sh' && bash scripts/build.sh"
alias osb="oneshoe-build"

alias remove-vendor-dir="log 'Remove vendor directory' && rm -rf vendor"
alias rvd="remove-vendor-dir"

# Ensure that all composer packages are re-installed. This helps with projects
# that have custom composer packages which are checkout on other branches very
# now and then (like Nuffic).
alias oneshoe-clean-build="rvd && osb"
alias oscb="oneshoe-clean-build"

alias oneshoe-clean-install="log 'Run clean-install.sh' && bash scripts/clean-install.sh"
alias osci="oneshoe-clean-install"

alias oneshoe-deploy="log 'Run deploy.sh' && bash scripts/deploy.sh"
alias osd="oneshoe-deploy"

alias oneshoe-build-deploy="osb && osd"
alias osbd="oneshoe-build-deploy"
alias osdb="log_warning 'I assume you want to run the build first, so I will ¯\_(ツ)_/¯' && osbd"

alias oneshoe-clean-build-deploy="oscb && osd"
alias oscbd="oneshoe-clean-build-deploy"
alias oscdb="log_warning 'I assume you want to run the build first, so I will ¯\_(ツ)_/¯' && oscbd"

alias oneshoe-drush-update="log 'Run drush-update.sh' && bash scripts/drush-update.sh"
alias osdu="oneshoe-drush-update"

alias oneshoe-maintenance="log 'Disable composer memory limit' && COMPOSER_MEMORY_LIMIT=-1 && log 'Run maintenance.sh' && bash scripts/maintenance.sh"
alias osm="oneshoe-maintenance"

# Aliases for my own scripts
alias oneshoe-create-project="bash $SCRIPT_DIR/scripts/create-project.sh"
alias oscp="oneshoe-create-project"

alias drupal-create-settings="bash $SCRIPT_DIR/scripts/drupal-create-settings-file.sh"
alias drupal-copy-local-settings="bash $SCRIPT_DIR/scripts/drupal-local-settings-file.sh"

alias oneshoe-remove-project="bash $SCRIPT_DIR/scripts/remove-project.sh"
alias osrp="oneshoe-remove-project"
